(this["webpackJsonptest-outside-kodix"]=this["webpackJsonptest-outside-kodix"]||[]).push([[0],{12:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(5),l=a.n(o),i=(a(12),a(2)),r=a(7),s=a.n(r),d=a(0),m=Object(n.createContext)();function u(e){var t=e.children,a=e.isOpen,c=e.onClose,l=e.styleSettings,i=Object(n.createRef)(),r=new Map([["Escape",c]]);return Object(n.useEffect)((function(){var e=function(e){var t=r.get(e.key);t&&t(e)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),Object(n.useEffect)((function(){var e=function(e){e.target.classList.contains("overlay")&&c()};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}})),Object(n.useEffect)((function(){a&&i.current.querySelector("button").focus()}),[a]),Object(o.createPortal)(Object(d.jsx)("div",{className:"".concat(l.overlay," overlay"),role:"dialog","aria-modal":"true",children:Object(d.jsx)("div",{className:l.container,children:Object(d.jsx)("div",{className:l.content,ref:i,children:Object(d.jsx)(m.Provider,{value:{onClose:c,styleSettings:l},children:t})})})}),document.body)}u.Header=function(e){var t=Object(n.useContext)(m),a=t.onClose,c=t.styleSettings;return Object(d.jsxs)("header",{className:c.header,children:[Object(d.jsx)("button",{className:c.closeButton,title:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e",onClick:a}),e.children]})},u.Body=function(e){var t=Object(n.useContext)(m).styleSettings;return Object(d.jsx)("main",{className:t.main,children:e.children})},u.Footer=function(e){var t=Object(n.useContext)(m).styleSettings;return Object(d.jsx)("footer",{className:t.footer,children:e.children})};var b=u,h=a(3),f=a(4);var j=3e6,p=2e6,x=26e4,O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x,c=[],o=12*e*.13,l=0;if(t<a){for(;l+o<=t;)l+=o,c.push(o);return l<t&&c.push(t-l),c}if(t>=a){if(o>=n)c.push(n);else{for(;l+o<=n;)l+=o,c.push(o);l<n&&c.push(n-l)}return c}},v=function(e){var t=e.toString();return t.endsWith("12")||t.endsWith("13")||t.endsWith("16")||t.endsWith("17")||t.endsWith("18")?" -\u044b\u0439 ":t.endsWith("2")||t.endsWith("6")||t.endsWith("7")||t.endsWith("8")||t.endsWith("40")?" -\u043e\u0439 ":t.endsWith("3")?" -\u0438\u0439 ":" -\u044b\u0439 "};var _=function(e){var t=e.isOpen,a=e.onClose,o=e.onSubmit,l={overlay:"modal-with-calc-form",container:"modal-with-calc-form__container",content:"modal-with-calc-form__content",header:"modal-with-calc-form__header",headerTextContainer:"modal-with-calc-form__header-text-container",headerTitle:"modal-with-calc-form__header-title",headerText:"modal-with-calc-form__header-text",closeButton:"modal-with-calc-form__close-button",main:"modal-with-calc-form__main",form:"modal-with-calc-form__form",fieldsetCheckbox:"modal-with-calc-form__form-checkbox-fieldset",fieldsetRadio:"modal-with-calc-form__form-fieldset-radio",fieldsetRadioContainer:"modal-with-calc-form__form-fieldset-radio-container",fieldsetLegend:"modal-with-calc-form__form-fieldset-legend",labelNumberField:"modal-with-calc-form__form-label-number-field",labelRadioButton:"modal-with-calc-form__form-label-radio-button",inputNumberField:"modal-with-calc-form__form-input-number",inputNumberFieldError:"modal-with-calc-form__form-input-number-error",labelCheckbox:"modal-with-calc-formm__form-label-checkbox",labelCheckboxSpan:"modal-with-calc-form__form-label-checkbox-span",inputCheckbox:"modal-with-calc-form__form-input-checkbox",visibleInputCheckbox:"modal-with-calc-form__form-input-checkbox-visible",inputRadioContainer:"modal-with-calc-form__form-input-radio-container",inputRadio:"modal-with-calc-form__form-input-radio",visibleInputRadio:"modal-with-calc-form__form-input-radio-visible",formTextButton:"modal-with-calc-form__form-text-button",submitButton:"modal-with-calc-form__form-submit-button",footer:"modal-with-calc-form__footer"},r="\u041d\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u0439 \u0432\u044b\u0447\u0435\u0442",m="\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043d\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u0439 \u0432\u044b\u0447\u0435\u0442 \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0433\u0430\u0441\u0438\u0442\u044c \u0438\u043f\u043e\u0442\u0435\u043a\u0443 \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u043e. \u0420\u0430\u0437\u043c\u0435\u0440 \u043d\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0433\u043e \u0432\u044b\u0447\u0435\u0442\u0430 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 13% \u043e\u0442 \u0441\u0432\u043e\u0435\u0433\u043e \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0433\u043e\u0434\u043e\u0432\u043e\u0433\u043e \u0434\u043e\u0445\u043e\u0434\u0430.",u="\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",j="\u0418\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043d\u0435\u0441\u0442\u0438 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u044b\u0445:",p="\u0427\u0442\u043e \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u043c?",x=" \u0440\u0443\u0431\u043b\u0435\u0439 \u0432",_="\u0433\u043e\u0434",y="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",N=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),r=l[0],s=l[1],d=Object(n.useState)(!1),m=Object(i.a)(d,2),u=m[0],b=m[1],j=Object(n.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),s(e),b(t)}),[c,s,b]);return{values:a,errors:r,isValid:u,handleChange:function(e){var t=e.target,n=t.name,o="checkbox"===t.type?t.checked:t.value;c(Object(f.a)(Object(f.a)({},a),{},Object(h.a)({},n,o))),s(Object(f.a)(Object(f.a)({},r),{},Object(h.a)({},n,t.validationMessage))),b(t.closest("form").checkValidity())},resetForm:j}}(),k=N.values,C=N.errors,w=N.isValid,g=N.handleChange,S=N.resetForm,R=c.a.useState([]),B=Object(i.a)(R,2),E=B[0],W=B[1],F=[{id:1,label:"\u0412\u0430\u0448\u0430 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u0432 \u043c\u0435\u0441\u044f\u0446",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",errorText:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",name:"salary",type:"number",required:!0}].map((function(e){return Object(d.jsxs)("label",{name:e.name,type:e.type,className:l.labelNumberField,children:[e.label,Object(d.jsx)("input",{className:l.inputNumberField,placeholder:e.placeholder,name:e.name,type:e.type,value:k[e.name]||"",onChange:g}),!w&&Object(d.jsx)("span",{className:l.inputNumberFieldError,"aria-live":"polite",children:C[e.name]})]},e.id)})),L=[{id:1,label:"\u041f\u043b\u0430\u0442\u0451\u0436",name:"subject",value:"payment",type:"radio"},{id:2,label:"\u0421\u0440\u043e\u043a",name:"subject",value:"time",type:"radio"}].map((function(e){return Object(d.jsxs)("label",{className:l.labelRadioButton,children:[Object(d.jsx)("input",{className:l.inputRadio,name:e.name,value:e.value,checked:e.value===k[e.name],onChange:g,type:e.type}),Object(d.jsx)("span",{className:l.visibleInputRadio,children:e.label})]},e.id)}));return Object(d.jsxs)(b,{isOpen:t,onClose:a,styleSettings:l,children:[Object(d.jsxs)(b.Header,{children:[Object(d.jsx)("h2",{className:l.headerTitle,children:r}),Object(d.jsx)("p",{className:l.headerText,children:m})]}),Object(d.jsx)(b.Body,{children:Object(d.jsxs)("form",{className:l.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),o({values:k,taxDeductions:E}),S(),W([]),a()},children:[F,Object(d.jsx)("button",{className:l.formTextButton,onClick:function(){k.salary&&W(O(k.salary))},type:"button",children:u}),E.length>0&&Object(d.jsxs)("fieldset",{className:l.fieldsetCheckbox,children:[Object(d.jsx)("legend",{className:l.fieldsetLegend,children:j}),E.map((function(e,t){return Object(d.jsxs)("label",{className:l.labelCheckbox,children:[Object(d.jsx)("input",{className:l.inputCheckbox,type:"checkbox",name:"year".concat(t+1),onChange:g,checked:k["year".concat(t+1)]}),Object(d.jsx)("span",{className:l.visibleInputCheckbox}),Intl.NumberFormat("ru-RU").format(e)+x,Object(d.jsx)("span",{className:l.labelCheckboxSpan,children:" ".concat(t+1)+v(t+1)+_})]},s()())}))]}),Object(d.jsx)("fieldset",{className:l.fieldsetRadio,children:Object(d.jsxs)("div",{className:l.fieldsetRadioContainer,children:[Object(d.jsx)("legend",{className:l.fieldsetLegend,children:p}),Object(d.jsx)("div",{className:l.inputRadioContainer,children:L})]})}),Object(d.jsx)("button",{className:l.submitButton,type:"submit",disabled:!w,children:y})]})})]})};var y=function(){var e=c.a.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],o=function(){n(!a)};return Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)("button",{className:"app__modal-button",onClick:o,children:"\u041d\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u0439 \u0432\u044b\u0447\u0435\u0442"}),a&&Object(d.jsx)(_,{onSubmit:function(e){console.log(e)},isOpen:a,onClose:o})]})};l.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.5c7eb4ff.chunk.js.map